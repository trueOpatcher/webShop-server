"use strict";(self.webpackChunkweb_shop_client=self.webpackChunkweb_shop_client||[]).push([[418],{9418:(w,m,u)=>{u.r(m),u.d(m,{AuthModule:()=>v});var d=u(9808),r=u(3075),a=u(5020),o=u(5e3);let g=(()=>{class n{constructor(t){this.router=t}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(a.F0))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-auth"]],decls:4,vars:0,consts:[[1,"container"],[1,"row"],[1,"col-xs-12","col-md-6","col-md-offset-3"]],template:function(t,e){1&t&&(o.TgZ(0,"div",0)(1,"div",1)(2,"div",2),o._UZ(3,"router-outlet"),o.qZA()()())},directives:[a.lC],styles:[".container[_ngcontent-%COMP%]{background-color:#9e1c0e;width:100%;height:calc(100% - 45px);white-space:nowrap;overflow:hidden;max-width:none;box-sizing:border-box}"]}),n})();var c=u(5698),p=u(384);const f=[{path:"",component:g,children:[{path:"",redirectTo:"login"},{path:"login",component:(()=>{class n{constructor(t,e){this.authService=t,this.router=e,this.loginForm=new r.cw({email:new r.NI(null,r.kI.required),password:new r.NI(null,r.kI.required)})}onSubmit(){this.loginForm.valid&&this.authService.login(this.loginForm.value.email,this.loginForm.value.password).pipe((0,c.q)(1)).subscribe({next:i=>{this.authService.user.next(i.profile.data.email),console.log("userData;",i),this.router.navigate(["/shop"])},error:i=>{console.log(i)}})}onClickAdmin(){this.authService.login("testy@gmail.com","qwerty").pipe((0,c.q)(1)).subscribe({next:i=>{this.authService.user.next(i.profile.data.email),this.router.navigate(["/shop"])},error:i=>{console.log(i)}})}onClickUser(){this.authService.login("test1@gmail.com","qwertyu").pipe((0,c.q)(1)).subscribe({next:i=>{this.authService.user.next(i.profile.data.email),this.router.navigate(["/shop"])},error:i=>{console.log(i)}})}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(p.e),o.Y36(a.F0))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-login"]],decls:17,vars:2,consts:[[1,"container"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","email"],["type","email","formControlName","email","id","email",1,"form-control"],["for","password"],["type","password","formControlName","password",1,"form-control"],[1,"bottom-content"],["type","submit",1,"btn","btn-danger",3,"disabled"],[1,"signup"],["routerLink","/auth/signup","routerLinkActive","active"]],template:function(t,e){1&t&&(o.TgZ(0,"div",0)(1,"form",1),o.NdJ("ngSubmit",function(){return e.onSubmit()}),o.TgZ(2,"div",2)(3,"label",3),o._uU(4,"Email"),o.qZA(),o._UZ(5,"input",4),o.qZA(),o.TgZ(6,"div",2)(7,"label",5),o._uU(8,"Password"),o.qZA(),o._UZ(9,"input",6),o.qZA(),o.TgZ(10,"div",7)(11,"button",8)(12,"span"),o._uU(13,"Submit"),o.qZA()(),o.TgZ(14,"li",9)(15,"a",10),o._uU(16,"Signup"),o.qZA()()()()()),2&t&&(o.xp6(1),o.Q6J("formGroup",e.loginForm),o.xp6(10),o.Q6J("disabled",!e.loginForm.valid))},directives:[r._Y,r.JL,r.sg,r.Fj,r.JJ,r.u,a.yS,a.Od],styles:[".main[_ngcontent-%COMP%]{background-color:#fff;height:100%;width:100%;white-space:nowrap;overflow-x:auto;overflow-y:hidden}.container[_ngcontent-%COMP%]{max-width:540px;color:#fff;position:absolute;top:50%;left:50%;margin-right:-50%;transform:translate(-50%,-50%)}.form-group[_ngcontent-%COMP%]{margin-top:2vh}button[_ngcontent-%COMP%]{background-color:#9e1c0e;pointer-events:all;border:0;padding:5px}button[_ngcontent-%COMP%]:disabled{pointer-events:none}button[_ngcontent-%COMP%]:hover{background-color:red}li[_ngcontent-%COMP%]{list-style-type:none}li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff}li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:red}.bottom-content[_ngcontent-%COMP%]{display:flex;margin-top:2vh;justify-content:space-between}.signup[_ngcontent-%COMP%]{margin:auto 0}"]}),n})()},{path:"signup",component:(()=>{class n{constructor(t,e){this.authService=t,this.router=e,this.signupForm=new r.cw({email:new r.NI(null,r.kI.required),password:new r.NI(null,r.kI.required),confirmPassword:new r.NI(null,[r.kI.required])})}get email(){return this.signupForm.get("email")}get password(){return this.signupForm.get("password")}get confirmPassword(){return this.signupForm.get("confirmPassword")}matchingValidator(){return t=>{var e;let i=t.value,l=null===(e=this.password)||void 0===e?void 0:e.value;return i&&l!==i?{confirmPassword:!0}:null}}ngOnInit(){var t,e;null===(t=this.confirmPassword)||void 0===t||t.setValidators([this.matchingValidator()]),null===(e=this.confirmPassword)||void 0===e||e.updateValueAndValidity()}onSubmit(){this.signupForm.valid&&this.authService.signup(this.signupForm.value.email,this.signupForm.value.password).pipe((0,c.q)(1)).subscribe({next:i=>{const l=i.profile.data.email;console.log("signUp"),this.authService.user.next(l),this.router.navigate(["/audiostore"])},error:i=>{console.log(i)}})}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(p.e),o.Y36(a.F0))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-signup"]],decls:20,vars:2,consts:[[1,"container"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","email"],["type","email","formControlName","email","id","email",1,"form-control"],["for","password"],["type","password","formControlName","password","id","password",1,"form-control"],["for","confirmPassword"],["type","password","formControlName","confirmPassword","id","confirmPassword",1,"form-control"],[1,"bottom-content"],["type","submit",1,"btn","btn-danger",3,"disabled"],["routerLink","/auth/login","routerLinkActive","active",1,"login"]],template:function(t,e){1&t&&(o.TgZ(0,"div",0)(1,"form",1),o.NdJ("ngSubmit",function(){return e.onSubmit()}),o.TgZ(2,"div",2)(3,"label",3),o._uU(4,"Email"),o.qZA(),o._UZ(5,"input",4),o.qZA(),o.TgZ(6,"div",2)(7,"label",5),o._uU(8,"Password"),o.qZA(),o._UZ(9,"input",6),o.qZA(),o.TgZ(10,"div",2)(11,"label",7),o._uU(12,"Confirm Password"),o.qZA(),o._UZ(13,"input",8),o.qZA(),o.TgZ(14,"div",9)(15,"button",10)(16,"span"),o._uU(17,"Submit"),o.qZA()(),o.TgZ(18,"a",11),o._uU(19,"Login"),o.qZA()()()()),2&t&&(o.xp6(1),o.Q6J("formGroup",e.signupForm),o.xp6(14),o.Q6J("disabled",!e.signupForm.valid))},directives:[r._Y,r.JL,r.sg,r.Fj,r.JJ,r.u,a.yS,a.Od],styles:[".main[_ngcontent-%COMP%]{background-color:#fff;height:100%;width:100%;white-space:nowrap;overflow-x:auto;overflow-y:hidden}.container[_ngcontent-%COMP%]{max-width:540px;color:#fff;position:absolute;top:50%;left:50%;margin-right:-50%;transform:translate(-50%,-50%)}li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#6b0aea}.form-group[_ngcontent-%COMP%]{margin-top:2vh}button[_ngcontent-%COMP%]{background-color:#9e1c0e;pointer-events:all;border:0;padding:5px}button[_ngcontent-%COMP%]:disabled{pointer-events:none}button[_ngcontent-%COMP%]:hover{background-color:red}li[_ngcontent-%COMP%]{list-style-type:none}li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff}li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:red}.bottom-content[_ngcontent-%COMP%]{display:flex;margin-top:2vh;justify-content:space-between}.login[_ngcontent-%COMP%]{margin:auto 0;color:#fff}.login[_ngcontent-%COMP%]:hover{color:red}"]}),n})()}]}];let h=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[a.Bz.forChild(f)],a.Bz]}),n})(),v=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[d.ez,a.Bz,r.UX,h]]}),n})()}}]);